<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="generator" content="Pelican" />
        <title>mysqlclient gives "Library not loaded - libmysqlclient.18.dylib" error</title>
        <link rel="stylesheet" href="https://zemian.github.io/theme/css/main.css" />
        <link href="https://zemian.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="ZBlog Atom Feed" />
        <meta name="description" content="If you want to use python MySQLdb module (eg: if you run Trac with MySQL backend), you would need first install MySQL server on MacOSX, then..." />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="https://zemian.github.io/">ZBlog</a></h1>
                <nav><ul>
                    <li><a href="https://zemian.github.io/pages/about-the-author.html">About The Author</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="https://zemian.github.io/2015/mysqlclient-gives-library-not-loaded-libmysqlclient18dylib-error.html" rel="bookmark"
           title="Permalink to mysqlclient gives "Library not loaded - libmysqlclient.18.dylib" error">mysqlclient gives "Library not loaded - libmysqlclient.18.dylib" error</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2015-10-16T00:00:00-05:00">
                Published: Fri 16 October 2015
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="https://zemian.github.io/author/zemian-deng.html">Zemian Deng</a>
        </address>
<p>In <a href="https://zemian.github.io/category/blog.html">Blog</a>.</p>
<p>tags: <a href="https://zemian.github.io/tag/python.html">python</a> <a href="https://zemian.github.io/tag/mysql.html">mysql</a> </p>
</footer><!-- /.post-info -->      <p>If you want to use python MySQLdb module (eg: if you run Trac with MySQL backend), you would need first install MySQL server on MacOSX, then install the mysqlclient python package using pip. However upon verifying it, you may encounter error like this:</p>
<div class="highlight"><pre><span></span><code><span class="p">(</span><span class="n">mypy</span><span class="o">-</span><span class="n">test</span><span class="p">)</span><span class="n">Zemians</span><span class="o">-</span><span class="n">Air</span><span class="p">:</span><span class="n">dev</span> <span class="n">zemian</span><span class="err">$</span> <span class="n">pip</span> <span class="n">install</span> <span class="n">mysqlclient</span>

<span class="n">Collecting</span> <span class="n">mysqlclient</span>

  <span class="n">Using</span> <span class="n">cached</span> <span class="n">mysqlclient</span><span class="o">-</span><span class="mf">1.3.6</span><span class="o">.</span><span class="n">tar</span><span class="o">.</span><span class="n">gz</span>

<span class="n">Building</span> <span class="n">wheels</span> <span class="k">for</span> <span class="n">collected</span> <span class="n">packages</span><span class="p">:</span> <span class="n">mysqlclient</span>

  <span class="n">Running</span> <span class="n">setup</span><span class="o">.</span><span class="n">py</span> <span class="n">bdist_wheel</span> <span class="k">for</span> <span class="n">mysqlclient</span>

  <span class="n">Stored</span> <span class="ow">in</span> <span class="n">directory</span><span class="p">:</span> <span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">zemian</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">Caches</span><span class="o">/</span><span class="n">pip</span><span class="o">/</span><span class="n">wheels</span><span class="o">/</span><span class="mi">9</span><span class="n">c</span><span class="o">/</span><span class="mi">3</span><span class="n">b</span><span class="o">/</span><span class="mi">73</span><span class="o">/</span><span class="mi">8</span><span class="n">f16f45dc76999dafc2af06b0d6e1e669bc0e1594f41fcc2e8</span>

<span class="n">Successfully</span> <span class="n">built</span> <span class="n">mysqlclient</span>

<span class="n">Installing</span> <span class="n">collected</span> <span class="n">packages</span><span class="p">:</span> <span class="n">mysqlclient</span>

<span class="n">Successfully</span> <span class="n">installed</span> <span class="n">mysqlclient</span><span class="o">-</span><span class="mf">1.3.6</span>

<span class="p">(</span><span class="n">mypy</span><span class="o">-</span><span class="n">test</span><span class="p">)</span><span class="n">Zemians</span><span class="o">-</span><span class="n">Air</span><span class="p">:</span><span class="n">dev</span> <span class="n">zemian</span><span class="err">$</span> <span class="n">python</span>

<span class="n">Python</span> <span class="mf">2.7.10</span> <span class="p">(</span><span class="n">default</span><span class="p">,</span> <span class="n">Aug</span> <span class="mi">22</span> <span class="mi">2015</span><span class="p">,</span> <span class="mi">20</span><span class="p">:</span><span class="mi">33</span><span class="p">:</span><span class="mi">39</span><span class="p">)</span> 

<span class="p">[</span><span class="n">GCC</span> <span class="mf">4.2.1</span> <span class="n">Compatible</span> <span class="n">Apple</span> <span class="n">LLVM</span> <span class="mf">7.0.0</span> <span class="p">(</span><span class="n">clang</span><span class="o">-</span><span class="mf">700.0.59.1</span><span class="p">)]</span> <span class="n">on</span> <span class="n">darwin</span>

<span class="n">Type</span> <span class="s2">&quot;help&quot;</span><span class="p">,</span> <span class="s2">&quot;copyright&quot;</span><span class="p">,</span> <span class="s2">&quot;credits&quot;</span> <span class="ow">or</span> <span class="s2">&quot;license&quot;</span> <span class="k">for</span> <span class="n">more</span> <span class="n">information</span><span class="o">.</span>

<span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">MySQLdb</span>

<span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>

  <span class="n">File</span> <span class="s2">&quot;&lt;stdin&gt;&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">1</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>

  <span class="n">File</span> <span class="s2">&quot;/Users/zemian/dev/mypy-test/lib/python2.7/site-packages/MySQLdb/__init__.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">19</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>

    <span class="kn">import</span> <span class="nn">_mysql</span>

<span class="ne">ImportError</span><span class="p">:</span> <span class="n">dlopen</span><span class="p">(</span><span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">zemian</span><span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">mypy</span><span class="o">-</span><span class="n">test</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">python2</span><span class="mf">.7</span><span class="o">/</span><span class="n">site</span><span class="o">-</span><span class="n">packages</span><span class="o">/</span><span class="n">_mysql</span><span class="o">.</span><span class="n">so</span><span class="p">,</span> <span class="mi">2</span><span class="p">):</span> <span class="n">Library</span> <span class="ow">not</span> <span class="n">loaded</span><span class="p">:</span> <span class="n">libmysqlclient</span><span class="mf">.18</span><span class="o">.</span><span class="n">dylib</span>

  <span class="n">Referenced</span> <span class="n">from</span><span class="p">:</span> <span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">zemian</span><span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">mypy</span><span class="o">-</span><span class="n">test</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">python2</span><span class="mf">.7</span><span class="o">/</span><span class="n">site</span><span class="o">-</span><span class="n">packages</span><span class="o">/</span><span class="n">_mysql</span><span class="o">.</span><span class="n">so</span>

  <span class="n">Reason</span><span class="p">:</span> <span class="n">image</span> <span class="ow">not</span> <span class="n">found</span>
</code></pre></div>

<p>To resolve this, you need to add the following to your shell environment</p>
<p><code>export DYLD_LIBRARY_PATH=/usr/local/mysql/lib</code></p>
<p>Update 2016-06-17</p>
<p>To install mysqlclient on Ubuntu 14, you might need to first install the mysql_config first:</p>
<p><code>bash&gt; sudo apt-get install libmysqlclient-dev</code></p>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="social">
                        <h2>social</h2>
                        <ul>
                            <li><a href="https://zemian.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate">atom feed</a></li>

                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="https://getpelican.com/">Pelican</a>, which takes great advantage of <a href="https://www.python.org/">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="https://www.smashingmagazine.com/2009/08/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>