<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="generator" content="Pelican" />
        <title>Getting started with Apache HTTPD Web Server on Windows</title>
        <link rel="stylesheet" href="https://zemian.github.io/theme/css/main.css" />
        <link href="https://zemian.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="ZBlog Atom Feed" />
        <meta name="description" content="Using native Windows Binary (without admin rights) Download one of binary from https://httpd.apache.org/docs/current/platform/windows.html#down..." />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="https://zemian.github.io/">ZBlog</a></h1>
                <nav><ul>
                    <li><a href="https://zemian.github.io/pages/about-the-author.html">About The Author</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="https://zemian.github.io/2018/getting-started-with-apache-httpd-web-server-on-windows.html" rel="bookmark"
           title="Permalink to Getting started with Apache HTTPD Web Server on Windows">Getting started with Apache HTTPD Web Server on Windows</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2018-02-27T00:00:00-05:00">
                Published: Tue 27 February 2018
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="https://zemian.github.io/author/zemian-deng.html">Zemian Deng</a>
        </address>
<p>In <a href="https://zemian.github.io/category/blog.html">Blog</a>.</p>
<p>tags: <a href="https://zemian.github.io/tag/httpd.html">httpd</a> <a href="https://zemian.github.io/tag/cygwin.html">cygwin</a> </p>
</footer><!-- /.post-info -->      <h1>Using native Windows Binary (without admin rights)</h1>
<ol>
<li>
<p>Download one of binary from
    <a href="https://httpd.apache.org/docs/current/platform/windows.html#down">https://httpd.apache.org/docs/current/platform/windows.html#down</a></p>
</li>
<li>
<p>Unzip a portable version (zip file) into <code>C:\Apache24</code></p>
</li>
<li>
<p>cd <code>C:\Apache24\bin</code> and run httpd.exe</p>
</li>
<li>
<p>Open browser to <a href="http://localhost">http://localhost</a></p>
</li>
</ol>
<p>Press <code>CTRL+C</code> to stop the server.</p>
<h2>Where is the <code>httpd.conf</code>?</h2>
<p>The web server config file is located at <code>C:\Apache24\conf\httpd.conf</code></p>
<p>The default document root should be at <code>C:\Apache24\htdocs</code></p>
<p>The default error log file is at <code>C:\Apache24\logs\error.log</code></p>
<h2>How to enable cgi-bin scripts</h2>
<p>There is a default <code>perl</code> test script under
<code>C:\Apache24\cgi-bin\printenv.pl</code>, and if you have native Windows Perl
installed, you need to modify the first line in the script. Example:
<code>#!/C:/perl5/perl.exe</code></p>
<p>Now test it on <a href="http://localhost/cgi-bin/printenv.pl">http://localhost/cgi-bin/printenv.pl</a></p>
<h2>Using Python as <code>cgi-bin</code> test script</h2>
<p>Create <code>C:\Apache24\cgi-bin\printenv.py</code> script:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="n">import</span><span class="w"> </span><span class="n">cgi</span><span class="w"></span>
<span class="n">cgi</span><span class="p">.</span><span class="n">test</span><span class="p">()</span><span class="w"></span>
</code></pre></div>
</td></tr></table>
<p>Test it on <a href="http://localhost/cgi-bin/printenv.py">http://localhost/cgi-bin/printenv.py</a></p>
<h1>Using Cygwin for Windows</h1>
<ol>
<li>
<p>Install <code>httpd</code> and <code>httpd-tool</code> packages in your cygwin</p>
</li>
<li>
<p>If you have not started <code>cygserver</code>, run it now in the background.</p>
</li>
<li>
<p>Run <code>apachectl -k start</code></p>
</li>
<li>
<p>Open browser to <a href="http://localhost">http://localhost</a></p>
</li>
</ol>
<p>Run <code>apachectl -k stop</code> to stop the server.</p>
<h2>Where is the <code>httpd.conf</code> ?</h2>
<p>The web server config file is located at <code>/etc/httpd/conf/httpd.conf</code></p>
<p>The default document root should be at <code>/srv/www/htdocs</code></p>
<p>The default error log file is at <code>/var/log/httpd/error_log</code></p>
<h2>How to enable cgi-bin scripts</h2>
<ol>
<li>
<p>Ensure you have installed <code>perl</code> package in Cygwin.</p>
</li>
<li>
<p>Modify <code>/srv/www/cgi-bin/printenv</code> file first line with
    <code>#!/usr/bin/perl</code></p>
</li>
<li>
<p>Run <code>chmod a+x</code></p>
</li>
<li>
<p>Modify <code>httpd.conf</code> to enable <code>mod_cgi</code>:</p>
</li>
</ol>
<div class="highlight"><pre><span></span><code>        <span class="nt">&lt;IfModule</span> <span class="err">mpm_prefork_module</span><span class="nt">&gt;</span>
                LoadModule cgi_module modules/mod_cgi.so
        <span class="nt">&lt;/IfModule&gt;</span>
</code></pre></div>

<ol>
<li>Restart httpd server</li>
</ol>
<p>Now test it on <a href="http://localhost/cgi-bin/printenv">http://localhost/cgi-bin/printenv</a></p>
<p>You can also test the <code>/srv/www/cgi-bin/test-cgi</code> script, but it uses
<code>#!/usr/bin/sh</code> instead of <code>perl</code>!</p>
<p>If you use default <code>cgi-bin</code> folder that are setup with <code>ScriptAlias</code>,
then you do not need to add <code>Options +ExecCGI</code> line to the conf file.</p>
<h2>Using Python as <code>cgi-bin</code> test script</h2>
<p>Create <code>/srv/www/cgi-bin/printenv.py</code> script:</p>
<div class="highlight"><pre><span></span><code>    <span class="c1">#!/usr/bin/python3</span>
    <span class="kn">import</span> <span class="nn">cgi</span>
    <span class="n">cgi</span><span class="o">.</span><span class="n">test</span><span class="p">()</span>
</code></pre></div>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="social">
                        <h2>social</h2>
                        <ul>
                            <li><a href="https://zemian.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate">atom feed</a></li>

                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="https://getpelican.com/">Pelican</a>, which takes great advantage of <a href="https://www.python.org/">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="https://www.smashingmagazine.com/2009/08/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>