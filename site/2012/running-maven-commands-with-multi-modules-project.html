<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="generator" content="Pelican" />
        <title>Running maven commands with multi modules project</title>
        <link rel="stylesheet" href="https://zemian.github.io/theme/css/main.css" />
        <link href="https://zemian.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="ZBlog Atom Feed" />
        <meta name="description" content="Have you ever tried running Maven commands inside a sub-module of a multi modules Maven project, and get Could not resolve dependencies for..." />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="https://zemian.github.io/">ZBlog</a></h1>
                <nav><ul>
                    <li><a href="https://zemian.github.io/pages/about-the-author.html">About The Author</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="https://zemian.github.io/2012/running-maven-commands-with-multi-modules-project.html" rel="bookmark"
           title="Permalink to Running maven commands with multi modules project">Running maven commands with multi modules project</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2012-10-14T00:00:00-05:00">
                Published: Sun 14 October 2012
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="https://zemian.github.io/author/zemian-deng.html">Zemian Deng</a>
        </address>
<p>In <a href="https://zemian.github.io/category/blog.html">Blog</a>.</p>
<p>tags: <a href="https://zemian.github.io/tag/maven.html">maven</a> </p>
</footer><!-- /.post-info -->      <p>Have you ever tried running Maven commands inside a sub-module of a multi modules Maven project, and get <code>Could not resolve dependencies for project</code> error msg? And you checked the dependencies that it's missing are those sister modules within the same project! So what gives? It turns out you have to give few more options to get this running correctly, and you have to remember always stays in the parent pom directory to run it!</p>
<p>For exmaple if you checkout the TimeMachine scheduler project, you can invoke the <code>timemachine-hibernate</code> module with maven commands like this:</p>
<div class="highlight"><pre><span></span><code>bash&gt; hg clone https://bitbucket.org/timemachine/scheduler
bash&gt; cd scheduler
bash&gt; mvn -pl timemachine-hibernate -am clean test-compile
</code></pre></div>

<p>You can start the scheduler using Maven like this (remember to stay in the parent pom directory!):</p>
<div class="highlight"><pre><span></span><code><span class="n">bash</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">mvn</span><span class="w"> </span><span class="o">-</span><span class="n">pl</span><span class="w"> </span><span class="n">timemachine</span><span class="o">-</span><span class="n">scheduler</span><span class="w"> </span><span class="n">exec</span><span class="p">:</span><span class="n">java</span><span class="w"> </span><span class="o">-</span><span class="n">Dexec</span><span class="o">.</span><span class="n">mainClass</span><span class="o">=</span><span class="n">timemachine</span><span class="o">.</span><span class="n">scheduler</span><span class="o">.</span><span class="k">tool</span><span class="o">.</span><span class="n">SchedulerServer</span><span class="w"> </span><span class="o">-</span><span class="n">Dexec</span><span class="o">.</span><span class="n">classpathScope</span><span class="o">=</span><span class="n">test</span><span class="w"></span>
</code></pre></div>

<p>I have added the <code>-Dexec.classpathScope=test</code> so you will see logging output, because there is an <code>log4j.properties</code> in the classpath for testing.</p>
<p>Without these, you can always run <code>mvn install</code> in the project root directory, then you can cd into any sub-module and run Maven commands. However you will have to keep a tab on what changed in the dependencies, even if they are in sister modules.</p>
<p>You can read more from this <a href="http://www.sonatype.com/people/2009/10/maven-tips-and-tricks-advanced-reactor-options">article</a> from Sonatype.</p>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="social">
                        <h2>social</h2>
                        <ul>
                            <li><a href="https://zemian.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate">atom feed</a></li>

                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="https://getpelican.com/">Pelican</a>, which takes great advantage of <a href="https://www.python.org/">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="https://www.smashingmagazine.com/2009/08/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>