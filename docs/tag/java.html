<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="generator" content="Pelican" />
        <title>ZBlog - java</title>
        <link rel="stylesheet" href="https://zemian.github.io/theme/css/main.css" />
        <link href="https://zemian.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="ZBlog Atom Feed" />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="https://zemian.github.io/">ZBlog</a></h1>
                <nav><ul>
                    <li><a href="https://zemian.github.io/pages/about-the-author.html">About The Author</a></li>
                </ul></nav>
        </header><!-- /#banner -->

            <aside id="featured" class="body">
                <article>
                    <h1 class="entry-title"><a href="https://zemian.github.io/2018/a-simple-java-command-line-options-parser.html">A simple Java command line options parser</a></h1>
<footer class="post-info">
        <abbr class="published" title="2018-08-13T00:00:00-05:00">
                Published: Mon 13 August 2018
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="https://zemian.github.io/author/zemian-deng.html">Zemian Deng</a>
        </address>
<p>In <a href="https://zemian.github.io/category/blog.html">Blog</a>.</p>
<p>tags: <a href="https://zemian.github.io/tag/optparse.html">optparse</a> <a href="https://zemian.github.io/tag/java.html">java</a> </p>
</footer><!-- /.post-info --><div class="highlight"><pre><span></span><code><span class="kn">package</span> <span class="nn">com.zemian.hellojava</span><span class="p">;</span>

<span class="kn">import</span> <span class="nn">java.util.*</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * A simple command line arguments and options parser in the format of &quot;--optionName=optionValue&quot; or</span>
<span class="cm"> * &quot;-optionName=optionValue&quot;.</span>
<span class="cm"> *</span>
<span class="cm"> * The optionName can be one ore more characters. The equals sign must be used when providing optionValue;</span>
<span class="cm"> * else it will be treated as program arguments instead! If you ommit the &quot;=optionValue&quot; part, then it</span>
<span class="cm"> * will default to &quot;=true&quot; for that optionName. The optionValue must be a single string. Any other argument</span>
<span class="cm"> * that are not part of options are store in a new args list.</span>
<span class="cm"> *</span>
<span class="cm"> * The constructor will immediately parse the input arguments, and it should not throw any exceptions. In case</span>
<span class="cm"> * user did not use correct format, by above rule, it will go into the argument list instead. We purposely made</span>
<span class="cm"> * this class simple, and let end user to perform any validation they need for their program.</span>
<span class="cm"> *</span>
<span class="cm"> * Usage example:</span>
<span class="cm"> *   Hello --help</span>
<span class="cm"> *   Hello --num=101 --verbose one two three</span>
<span class="cm"> * ----</span>
<span class="cm"> * public class Hello {}</span>
<span class="cm"> *     public static void main(String[] args) {</span>
<span class="cm"> *         CmdOpts opts = new CmdOpts(args);</span>
<span class="cm"> *         if (opts.hasOpt(&quot;help&quot;))</span>
<span class="cm"> *           System.out.println(&quot;You need help&quot;);</span>
<span class="cm"> *         int num = opts.getIntOpt(&quot;num&quot;, 0);</span>
<span class="cm"> *         System.out.println(&quot;Using num=&quot; + num);</span>
<span class="cm"> *         System.out.println(&quot;Using new args=&quot; + opts.getArgs());</span>
<span class="cm"> *     }</span>
<span class="cm"> * }</span>
<span class="cm"> * ----</span>
<span class="cm"> *</span>
<span class="cm"> * Created by Zemian Deng 2017.</span>
<span class="cm"> */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">CmdOpts</span> <span class="p">{</span>
    <span class="kd">private</span> <span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span> <span class="n">Object</span><span class="o">&gt;</span> <span class="n">opts</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">&lt;&gt;</span><span class="p">();</span>
    <span class="kd">private</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">args</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;&gt;</span><span class="p">();</span>

    <span class="kd">public</span> <span class="nf">CmdOpts</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">arguments</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">parse</span><span class="p">(</span><span class="n">arguments</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">parse</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">arguments</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">for</span> <span class="p">(</span><span class="n">String</span> <span class="n">arg</span> <span class="p">:</span> <span class="n">arguments</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">arg</span><span class="p">.</span><span class="na">startsWith</span><span class="p">(</span><span class="s">&quot;--&quot;</span><span class="p">))</span> <span class="p">{</span>
                <span class="n">addOpt</span><span class="p">(</span><span class="n">arg</span><span class="p">.</span><span class="na">substring</span><span class="p">(</span><span class="mi">2</span><span class="p">));</span>
            <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">arg</span><span class="p">.</span><span class="na">startsWith</span><span class="p">(</span><span class="s">&quot;-&quot;</span><span class="p">))</span> <span class="p">{</span>
                <span class="n">addOpt</span><span class="p">(</span><span class="n">arg</span><span class="p">.</span><span class="na">substring</span><span class="p">(</span><span class="mi">1</span><span class="p">));</span>
            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                <span class="n">args</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">arg</span><span class="p">);</span>
            <span class="p">}</span>

        <span class="p">}</span>
    <span class="p">}</span>

    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">addOpt</span><span class="p">(</span><span class="n">String</span> <span class="n">option</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">option</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="s">&quot;&quot;</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="n">option</span><span class="p">))</span> <span class="p">{</span>
            <span class="n">String</span><span class="o">[]</span> <span class="n">options</span> <span class="o">=</span> <span class="n">option</span><span class="p">.</span><span class="na">split</span><span class="p">(</span><span class="s">&quot;=&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
            <span class="n">String</span> <span class="n">optionName</span> <span class="o">=</span> <span class="n">options</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span><span class="p">;</span>
            <span class="n">String</span> <span class="n">optionValue</span> <span class="o">=</span> <span class="s">&quot;true&quot;</span><span class="p">;</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">options</span><span class="p">.</span><span class="na">length</span> <span class="o">==</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">optionValue</span> <span class="o">=</span> <span class="n">options</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span><span class="p">;</span>
            <span class="p">}</span>

            <span class="n">Object</span> <span class="n">existingOpt</span> <span class="o">=</span> <span class="n">opts</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="n">optionName</span><span class="p">);</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">existingOpt</span> <span class="o">==</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">opts</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="n">optionName</span><span class="p">,</span> <span class="n">optionValue</span><span class="p">);</span>
            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                <span class="c1">// Support multi options with same key</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">existingOpt</span> <span class="k">instanceof</span> <span class="n">List</span><span class="p">)</span> <span class="p">{</span>
                    <span class="c1">// Third + items</span>
                    <span class="p">((</span><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="p">)</span> <span class="n">existingOpt</span><span class="p">).</span><span class="na">add</span><span class="p">(</span><span class="n">optionValue</span><span class="p">);</span>
                <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                    <span class="c1">// Second items</span>
                    <span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;&gt;</span><span class="p">();</span>
                    <span class="n">list</span><span class="p">.</span><span class="na">add</span><span class="p">((</span><span class="n">String</span><span class="p">)</span> <span class="n">existingOpt</span><span class="p">);</span>
                    <span class="n">list</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">optionValue</span><span class="p">);</span>
                    <span class="n">opts</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="n">optionName</span><span class="p">,</span> <span class="n">list</span><span class="p">);</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getOptsSize</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">opts</span><span class="p">.</span><span class="na">size</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="kd">public</span> <span class="n">Set</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="nf">getOptsNames</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">opts</span><span class="p">.</span><span class="na">keySet</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">hasOpt</span><span class="p">(</span><span class="n">String</span> <span class="n">name</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">opts</span><span class="p">.</span><span class="na">containsKey</span><span class="p">(</span><span class="n">name</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="kd">public</span> <span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span> <span class="n">Object</span><span class="o">&gt;</span> <span class="nf">getOpts</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">opts</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setOpts</span><span class="p">(</span><span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span> <span class="n">Object</span><span class="o">&gt;</span> <span class="n">opts</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="na">opts</span> <span class="o">=</span> <span class="n">opts</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="kd">public</span> <span class="n">String</span> <span class="nf">getOpt</span><span class="p">(</span><span class="n">String</span> <span class="n">name</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">String</span><span class="p">)</span> <span class="n">opts</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="n">name</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="kd">public</span> <span class="n">String</span> <span class="nf">getOpt</span><span class="p">(</span><span class="n">String</span> <span class="n">name</span><span class="p">,</span> <span class="n">String</span> <span class="n">def</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">String</span> <span class="n">result</span> <span class="o">=</span> <span class="n">getOpt</span><span class="p">(</span><span class="n">name</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">result</span> <span class="o">==</span> <span class="kc">null</span><span class="p">)</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">def</span><span class="p">;</span>
        <span class="k">return</span> <span class="n">result</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">getBooleanOpt</span><span class="p">(</span><span class="n">String</span> <span class="n">name</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">hasOpt</span><span class="p">(</span><span class="n">name</span><span class="p">))</span> <span class="p">{</span>
            <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">Boolean</span><span class="p">.</span><span class="na">parseBoolean</span><span class="p">(</span><span class="n">getOpt</span><span class="p">(</span><span class="n">name</span><span class="p">));</span>
    <span class="p">}</span>

    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">getBooleanOpt</span><span class="p">(</span><span class="n">String</span> <span class="n">name</span><span class="p">,</span> <span class="kt">boolean</span> <span class="n">def</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">hasOpt</span><span class="p">(</span><span class="n">name</span><span class="p">))</span> <span class="p">{</span>
            <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="n">String</span> <span class="n">result</span> <span class="o">=</span> <span class="n">getOpt</span><span class="p">(</span><span class="n">name</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">result</span> <span class="o">==</span> <span class="kc">null</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">def</span><span class="p">;</span>
        <span class="k">return</span> <span class="n">Boolean</span><span class="p">.</span><span class="na">parseBoolean</span><span class="p">(</span><span class="n">result</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getIntOpt</span><span class="p">(</span><span class="n">String</span> <span class="n">name</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">Integer</span><span class="p">.</span><span class="na">parseInt</span><span class="p">(</span><span class="n">getOpt</span><span class="p">(</span><span class="n">name</span><span class="p">));</span>
    <span class="p">}</span>

    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getIntOpt</span><span class="p">(</span><span class="n">String</span> <span class="n">name</span><span class="p">,</span> <span class="kt">int</span> <span class="n">def</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">String</span> <span class="n">result</span> <span class="o">=</span> <span class="n">getOpt</span><span class="p">(</span><span class="n">name</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">result</span> <span class="o">==</span> <span class="kc">null</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">def</span><span class="p">;</span>
        <span class="k">return</span> <span class="n">Integer</span><span class="p">.</span><span class="na">parseInt</span><span class="p">(</span><span class="n">result</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="kd">public</span> <span class="kt">long</span> <span class="nf">getLongOpt</span><span class="p">(</span><span class="n">String</span> <span class="n">name</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">Long</span><span class="p">.</span><span class="na">parseLong</span><span class="p">(</span><span class="n">getOpt</span><span class="p">(</span><span class="n">name</span><span class="p">));</span>
    <span class="p">}</span>

    <span class="kd">public</span> <span class="kt">long</span> <span class="nf">getLongOpt</span><span class="p">(</span><span class="n">String</span> <span class="n">name</span><span class="p">,</span> <span class="kt">long</span> <span class="n">def</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">String</span> <span class="n">result</span> <span class="o">=</span> <span class="n">getOpt</span><span class="p">(</span><span class="n">name</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">result</span> <span class="o">==</span> <span class="kc">null</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">def</span><span class="p">;</span>
        <span class="k">return</span> <span class="n">Long</span><span class="p">.</span><span class="na">parseLong</span><span class="p">(</span><span class="n">result</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="kd">public</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="nf">getMultiOpts</span><span class="p">(</span><span class="n">String</span> <span class="n">name</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;&gt;</span><span class="p">();</span>
        <span class="n">Object</span> <span class="n">optVal</span> <span class="o">=</span> <span class="n">opts</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="n">name</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">optVal</span> <span class="o">==</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="n">list</span><span class="p">;</span>
        <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">optVal</span> <span class="k">instanceof</span> <span class="n">String</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">list</span><span class="p">.</span><span class="na">add</span><span class="p">((</span><span class="n">String</span><span class="p">)</span> <span class="n">optVal</span><span class="p">);</span>
            <span class="k">return</span> <span class="n">list</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="n">list</span><span class="p">.</span><span class="na">addAll</span><span class="p">((</span><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="p">)</span> <span class="n">optVal</span><span class="p">);</span>
        <span class="k">return</span> <span class="n">list</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getArgsSize</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">args</span><span class="p">.</span><span class="na">size</span><span class="p">();</span>
    <span class="p">}</span>
    <span class="kd">public</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="nf">getArgs</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">args</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="kd">public</span> <span class="n">String</span><span class="o">[]</span> <span class="nf">getArgsArray</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">args</span><span class="p">.</span><span class="na">toArray</span><span class="p">(</span><span class="k">new</span> <span class="n">String</span><span class="o">[</span><span class="n">args</span><span class="p">.</span><span class="na">size</span><span class="p">()</span><span class="o">]</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="kd">public</span> <span class="n">String</span> <span class="nf">getArgOrError</span><span class="p">(</span><span class="kt">int</span> <span class="n">index</span><span class="p">,</span> <span class="n">String</span> <span class="n">errorIfMissing</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">index</span> <span class="o">&gt;=</span> <span class="n">args</span><span class="p">.</span><span class="na">size</span><span class="p">()</span> <span class="o">||</span> <span class="n">index</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">throw</span> <span class="k">new</span> <span class="n">IllegalArgumentException</span><span class="p">(</span><span class="n">errorIfMissing</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">args</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="n">index</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="kd">public</span> <span class="n">String</span> <span class="nf">getArg</span><span class="p">(</span><span class="kt">int</span> <span class="n">index</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">args</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="n">index</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="cm">/** A test class to try out CmdOpts. */</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">CmdOpts</span> <span class="n">opts</span> <span class="o">=</span> <span class="k">new</span> <span class="n">CmdOpts</span><span class="p">(</span><span class="n">args</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">opts</span><span class="p">.</span><span class="na">hasOpt</span><span class="p">(</span><span class="s">&quot;help&quot;</span><span class="p">))</span>
            <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;You need help&quot;</span><span class="p">);</span>
        <span class="kt">int</span> <span class="n">num</span> <span class="o">=</span> <span class="n">opts</span><span class="p">.</span><span class="na">getIntOpt</span><span class="p">(</span><span class="s">&quot;num&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
        <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Using num=&quot;</span> <span class="o">+</span> <span class="n">num</span><span class="p">);</span>
        <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Using new args=&quot;</span> <span class="o">+</span> <span class="n">opts</span><span class="p">.</span><span class="na">getArgs</span><span class="p">());</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>                </article>
            </aside><!-- /#featured -->
                <section id="content" class="body">
                    <h1>Other articles</h1>
                    <hr />
                    <ol id="posts-list" class="hfeed">

            <li><article class="hentry">
                <header>
                    <h1><a href="https://zemian.github.io/2018/a-plain-and-simple-jdbc-service-for-java8.html" rel="bookmark"
                           title="Permalink to A plain and simple Jdbc service for Java8">A plain and simple Jdbc service for Java8</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2018-07-28T00:00:00-05:00">
                Published: Sat 28 July 2018
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="https://zemian.github.io/author/zemian-deng.html">Zemian Deng</a>
        </address>
<p>In <a href="https://zemian.github.io/category/blog.html">Blog</a>.</p>
<p>tags: <a href="https://zemian.github.io/tag/java.html">java</a> <a href="https://zemian.github.io/tag/jdbc.html">jdbc</a> </p>
</footer><!-- /.post-info -->                <p>With Java8, we can create simple and thin Jdbc service that’s productive
and easy to use. This service implementation is inspired by Spring’s
JdbcTemplate, but much lighter and has zero dependency.</p>
<div class="highlight"><pre><span></span><code><span class="kn">package</span> <span class="nn">zemian.jdbc</span><span class="p">;</span>

<span class="kn">import</span> <span class="nn">javax.sql.DataSource</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.io.IOException</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStream</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java …</span></code></pre></div>
                <a class="readmore" href="https://zemian.github.io/2018/a-plain-and-simple-jdbc-service-for-java8.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="https://zemian.github.io/2018/adding-new-cacert-entry-into-adoptopenjdk.html" rel="bookmark"
                           title="Permalink to Adding new cacert entry into AdoptOpenJDK">Adding new cacert entry into AdoptOpenJDK</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2018-07-23T00:00:00-05:00">
                Published: Mon 23 July 2018
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="https://zemian.github.io/author/zemian-deng.html">Zemian Deng</a>
        </address>
<p>In <a href="https://zemian.github.io/category/blog.html">Blog</a>.</p>
<p>tags: <a href="https://zemian.github.io/tag/cacert.html">cacert</a> <a href="https://zemian.github.io/tag/keytool.html">keytool</a> <a href="https://zemian.github.io/tag/openjdk.html">openjdk</a> <a href="https://zemian.github.io/tag/jdk.html">jdk</a> <a href="https://zemian.github.io/tag/java.html">java</a> </p>
</footer><!-- /.post-info -->                <p>I downloaded latest Tomcat source and it failed to get the dependencies.</p>
<div class="highlight"><pre><span></span><code><span class="w">      </span><span class="n">cd</span><span class="w"> </span><span class="n">src</span><span class="o">/</span><span class="n">github</span><span class="o">/</span><span class="n">tomcat</span><span class="w"></span>
<span class="w">      </span><span class="n">ant</span><span class="w"> </span><span class="n">download</span><span class="o">-</span><span class="n">test</span><span class="o">-</span><span class="n">compile</span><span class="w"></span>
<span class="w">            </span><span class="o">[</span><span class="n">get</span><span class="o">]</span><span class="w"> </span><span class="n">Error</span><span class="w"> </span><span class="n">getting</span><span class="w"> </span><span class="nl">https</span><span class="p">:</span><span class="o">//</span><span class="n">repo</span><span class="p">.</span><span class="n">maven</span><span class="p">.</span><span class="n">apache</span><span class="p">.</span><span class="n">org</span><span class="o">/</span><span class="n">maven2</span><span class="o">/</span><span class="n">junit</span><span class="o">/</span><span class="n">junit</span><span class="o">/</span><span class="mf">4.12</span><span class="o">/</span><span class="n">junit</span><span class="o">-</span><span class="mf">4.12</span><span class="p">.</span><span class="n">jar</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="nl">C</span><span class="p">:</span><span class="err">\</span><span class="n">Users</span><span class="err">\</span><span class="n">zemian</span><span class="err">\</span><span class="n">tomcat</span><span class="o">-</span><span class="n">build</span><span class="o">-</span><span class="n">libs</span><span class="err">\</span><span class="n">download</span><span class="o">-</span><span class="mf">2000731528.</span><span class="n">tmp</span><span class="w"></span>

<span class="w">    </span><span class="n">BUILD</span><span class="w"> </span><span class="n">FAILED</span><span class="w"></span>
<span class="w">    </span><span class="nl">C …</span></code></pre></div>
                <a class="readmore" href="https://zemian.github.io/2018/adding-new-cacert-entry-into-adoptopenjdk.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="https://zemian.github.io/2018/run-tomcat-with-webapp-runnerjar.html" rel="bookmark"
                           title="Permalink to Run Tomcat with webapp-runner.jar">Run Tomcat with webapp-runner.jar</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2018-06-21T00:00:00-05:00">
                Published: Thu 21 June 2018
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="https://zemian.github.io/author/zemian-deng.html">Zemian Deng</a>
        </address>
<p>In <a href="https://zemian.github.io/category/blog.html">Blog</a>.</p>
<p>tags: <a href="https://zemian.github.io/tag/tomcat.html">tomcat</a> <a href="https://zemian.github.io/tag/webapp-runner.html">webapp-runner</a> <a href="https://zemian.github.io/tag/java.html">java</a> </p>
</footer><!-- /.post-info -->                <p>I have used <a href="https://github.com/jsimone/webapp-runner">https://github.com/jsimone/webapp-runner</a> in several
projects now, and I find it really useful.</p>
<p>You can start a Tomcat instance as simple as this:</p>
<div class="highlight"><pre><span></span><code>java -jar target/webapp-runner.jar target/adocblog.war
</code></pre></div>

<p>However if you need to run it with extra classpath entries, then you
would …</p>
                <a class="readmore" href="https://zemian.github.io/2018/run-tomcat-with-webapp-runnerjar.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="https://zemian.github.io/2018/java-versions.html" rel="bookmark"
                           title="Permalink to Java versions">Java versions</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2018-03-26T00:00:00-05:00">
                Published: Mon 26 March 2018
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="https://zemian.github.io/author/zemian-deng.html">Zemian Deng</a>
        </address>
<p>In <a href="https://zemian.github.io/category/blog.html">Blog</a>.</p>
<p>tags: <a href="https://zemian.github.io/tag/java.html">java</a> <a href="https://zemian.github.io/tag/javap.html">javap</a> </p>
</footer><!-- /.post-info -->                <p>How to check Java version from compiled classes</p>
<div class="highlight"><pre><span></span><code>javap -cp target/classes -verbose com.zemian.hellojava.App | grep &#39;major version&#39;
major version: 49
</code></pre></div>

<p>You may use this forumla to get the JDK version:
<code>&lt;class_file_major_ver&gt; - 44 = JDK version</code>. So this means above class
is targeted for JDK 5 …</p>
                <a class="readmore" href="https://zemian.github.io/2018/java-versions.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="https://zemian.github.io/2018/compare-multiple-jdk-versions-startup-time.html" rel="bookmark"
                           title="Permalink to Compare Multiple JDK Versions Startup Time">Compare Multiple JDK Versions Startup Time</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2018-03-24T00:00:00-05:00">
                Published: Sat 24 March 2018
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="https://zemian.github.io/author/zemian-deng.html">Zemian Deng</a>
        </address>
<p>In <a href="https://zemian.github.io/category/blog.html">Blog</a>.</p>
<p>tags: <a href="https://zemian.github.io/tag/jdk.html">jdk</a> <a href="https://zemian.github.io/tag/java.html">java</a> <a href="https://zemian.github.io/tag/python.html">python</a> </p>
</footer><!-- /.post-info -->                <p>Script file: <code>jdk-startup-time-test.py</code></p>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env python3</span>
<span class="c1"># Author: Zemian Deng 2018-03-24</span>
<span class="c1">#</span>
<span class="c1"># This script will test multiple JDK versions of startup time in your system</span>
<span class="c1"># We assume all JDK are installed in $HOME/apps directory with</span>
<span class="c1"># names matching in &#39;jdk_versions&#39; list.</span>
<span class="c1"># Also we asusme you compiled `hello.java` with …</span></code></pre></div>
                <a class="readmore" href="https://zemian.github.io/2018/compare-multiple-jdk-versions-startup-time.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="https://zemian.github.io/2018/oracle-java-se-jdk-vs-openjdk.html" rel="bookmark"
                           title="Permalink to Oracle Java SE JDK vs OpenJDK">Oracle Java SE JDK vs OpenJDK</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2018-03-24T00:00:00-05:00">
                Published: Sat 24 March 2018
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="https://zemian.github.io/author/zemian-deng.html">Zemian Deng</a>
        </address>
<p>In <a href="https://zemian.github.io/category/blog.html">Blog</a>.</p>
<p>tags: <a href="https://zemian.github.io/tag/openjdk.html">openjdk</a> <a href="https://zemian.github.io/tag/jdk.html">jdk</a> <a href="https://zemian.github.io/tag/java.html">java</a> </p>
</footer><!-- /.post-info -->                <p>In general:</p>
<ul>
<li>
<p>JRE - Java Runtime Environment. It comes with the Java (<code>java</code>)
    executable for running Java application. This is typical for end
    users who use it to run compiled Java applications (in jar file
    distribution), and not doing any development. JRE is smaller to
    download than JDK.</p>
</li>
<li>
<p>JDK - Java Development …</p></li></ul>
                <a class="readmore" href="https://zemian.github.io/2018/oracle-java-se-jdk-vs-openjdk.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="https://zemian.github.io/2018/switching-different-jdk-in-cygwin.html" rel="bookmark"
                           title="Permalink to Switching Different JDK in Cygwin">Switching Different JDK in Cygwin</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2018-03-24T00:00:00-05:00">
                Published: Sat 24 March 2018
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="https://zemian.github.io/author/zemian-deng.html">Zemian Deng</a>
        </address>
<p>In <a href="https://zemian.github.io/category/blog.html">Blog</a>.</p>
<p>tags: <a href="https://zemian.github.io/tag/cygwin.html">cygwin</a> <a href="https://zemian.github.io/tag/jdk.html">jdk</a> <a href="https://zemian.github.io/tag/java.html">java</a> </p>
</footer><!-- /.post-info -->                <p>I love to use bash shell terminal. It’s a much more powerful terminal to
do everyday tasks. Even in Windows, I can get most of what I need using
Cygwin. Unfortunately Java executable are native to OS only, and for
Windows, it would still work under Cygwin, but all …</p>
                <a class="readmore" href="https://zemian.github.io/2018/switching-different-jdk-in-cygwin.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="https://zemian.github.io/2018/install-windows-jdk-without-admin-rights.html" rel="bookmark"
                           title="Permalink to Install Windows JDK Without Admin Rights">Install Windows JDK Without Admin Rights</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2018-03-23T00:00:00-05:00">
                Published: Fri 23 March 2018
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="https://zemian.github.io/author/zemian-deng.html">Zemian Deng</a>
        </address>
<p>In <a href="https://zemian.github.io/category/blog.html">Blog</a>.</p>
<p>tags: <a href="https://zemian.github.io/tag/jdk.html">jdk</a> <a href="https://zemian.github.io/tag/java.html">java</a> </p>
</footer><!-- /.post-info -->                <h1>Installing JDK 7</h1>
<ol>
<li>
<p>Download <a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">Oracle Java SE JDK 7</a>
    In this example, we will use <code>jdk-7u80-windows-x64.exe</code></p>
</li>
<li>
<p>Extract <code>jdk-7u80-windows-x64.exe</code> using 7-zip tool. Right click the
    file then select context menu 7-zip &gt; Extract to
    <code>jdk-7u80-windows-x64</code></p>
</li>
<li>
<p>Go to the directory <code>jdk-7u80-windows-x64/.rsrc/1033/JAVA_CAB10</code></p>
<ul>
<li>
<p>Step 1: Extract the file <code>111 …</code></p></li></ul></li></ol>
                <a class="readmore" href="https://zemian.github.io/2018/install-windows-jdk-without-admin-rights.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="https://zemian.github.io/2018/java-logging-properties.html" rel="bookmark"
                           title="Permalink to Java Logging Properties">Java Logging Properties</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2018-03-16T00:00:00-05:00">
                Published: Fri 16 March 2018
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="https://zemian.github.io/author/zemian-deng.html">Zemian Deng</a>
        </address>
<p>In <a href="https://zemian.github.io/category/blog.html">Blog</a>.</p>
<p>tags: <a href="https://zemian.github.io/tag/java.html">java</a> <a href="https://zemian.github.io/tag/logging.html">logging</a> </p>
</footer><!-- /.post-info -->                <p>Example:</p>
<p><code>java -Djava.util.logging.config.file=java-logging.properties myapp.Hello</code></p>
<p><strong>java-logging.properties.</strong></p>
<div class="highlight"><pre><span></span><code>handlers= java.util.logging.ConsoleHandler
java.util.logging.ConsoleHandler.level = FINEST
sun.net.www.protocol.http.HttpURLConnection.level = ALL
myapp.Hello.level = ALL
</code></pre></div>
                <a class="readmore" href="https://zemian.github.io/2018/java-logging-properties.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>
                </ol><!-- /#posts-list -->
<p class="paginator">
    Page 1 / 5
        <a href="https://zemian.github.io/tag/java2.html">&raquo;</a>
        <a href="https://zemian.github.io/tag/java5.html">&#8649;</a>
</p>
                </section><!-- /#content -->
        <section id="extras" class="body">
                <div class="social">
                        <h2>social</h2>
                        <ul>
                            <li><a href="https://zemian.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate">atom feed</a></li>

                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="https://getpelican.com/">Pelican</a>, which takes great advantage of <a href="https://www.python.org/">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="https://www.smashingmagazine.com/2009/08/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>