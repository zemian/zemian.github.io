<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="generator" content="Pelican" />
        <title>Getting started with Quartz Scheduler on MySQL database</title>
        <link rel="stylesheet" href="https://zemian.github.io/theme/css/main.css" />
        <link href="https://zemian.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="ZBlog Atom Feed" />
        <meta name="description" content="Here are some simple steps to get you fully started with Quartz Scheduler on MySQL database using Groovy. The script below will allow you to..." />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="https://zemian.github.io/">ZBlog</a></h1>
                <nav><ul>
                    <li><a href="https://zemian.github.io/pages/about-the-author.html">About The Author</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="https://zemian.github.io/2012/getting-started-with-quartz-scheduler-on-mysql-database.html" rel="bookmark"
           title="Permalink to Getting started with Quartz Scheduler on MySQL database">Getting started with Quartz Scheduler on MySQL database</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2012-12-14T00:00:00-05:00">
                Published: Fri 14 December 2012
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="https://zemian.github.io/author/zemian-deng.html">Zemian Deng</a>
        </address>
<p>In <a href="https://zemian.github.io/category/blog.html">Blog</a>.</p>
<p>tags: <a href="https://zemian.github.io/tag/quartz.html">quartz</a> </p>
</footer><!-- /.post-info -->      <p>Here are some simple steps to get you fully started with Quartz Scheduler on MySQL database using Groovy. The script below will allow you to quickly experiment different Quartz configuration settings using an external file.</p>
<p>First step is to setup the database with tables. Assuming you already have installed MySQL and have access to create database and tables.</p>
<div class="highlight"><pre><span></span><code><span class="nv">bash</span><span class="o">&gt;</span> <span class="nv">mysql</span> <span class="o">-</span><span class="nv">u</span> <span class="nv">root</span> <span class="o">-</span><span class="nv">p</span>

<span class="nv">sql</span><span class="o">&gt;</span> <span class="nv">create</span> <span class="nv">database</span> <span class="nv">quartz2</span><span class="c1">;</span>
<span class="nv">sql</span><span class="o">&gt;</span> <span class="nv">create</span> <span class="nv">user</span> <span class="s1">&#39;</span><span class="s">quartz2</span><span class="s1">&#39;</span>@<span class="s1">&#39;</span><span class="s">localhost</span><span class="s1">&#39;</span> <span class="nv">identified</span> <span class="nv">by</span> <span class="s1">&#39;</span><span class="s">quartz2123</span><span class="s1">&#39;</span><span class="c1">;</span>
<span class="nv">sql</span><span class="o">&gt;</span> <span class="nv">grant</span> <span class="nv">all</span> <span class="nv">privileges</span> <span class="nv">on</span> <span class="nv">quartz2</span>.<span class="o">*</span> <span class="nv">to</span> <span class="s1">&#39;</span><span class="s">quartz2</span><span class="s1">&#39;</span>@<span class="s1">&#39;</span><span class="s">localhost</span><span class="s1">&#39;</span><span class="c1">;</span>
<span class="nv">sql</span><span class="o">&gt;</span> <span class="k">exit</span><span class="c1">;</span>

<span class="nv">bash</span><span class="o">&gt;</span> <span class="nv">mysql</span> <span class="o">-</span><span class="nv">u</span> <span class="nv">root</span> <span class="o">-</span><span class="nv">p</span> <span class="nv">quartz2</span> <span class="o">&lt;</span> <span class="o">/</span><span class="nv">path</span><span class="o">/</span><span class="nv">to</span><span class="o">/</span><span class="nv">quartz</span><span class="o">-</span><span class="nv">dist</span><span class="o">/</span><span class="nv">docs</span><span class="o">/</span><span class="nv">dbTables</span><span class="o">/</span><span class="nv">tables_mysql</span>.<span class="nv">sql</span>
</code></pre></div>

<p>The <code>tables_mysql.sql</code> can be found from Quartz distribution download, or directly from their source <a href="http://svn.terracotta.org/svn/quartz/tags/quartz-2.1.6/docs/dbTables">here</a>.</p>
<p>Once the database is up, you need to write some code to start up the Quartz Scheduler. Here is a simply Groovy script <code>quartzServer.groovy</code> that will run as a tiny scheduler server.</p>
<div class="highlight"><pre><span></span><code><span class="err">```</span>
<span class="o">//</span> <span class="n">Run</span> <span class="n">Quartz</span> <span class="n">Scheduler</span> <span class="k">as</span> <span class="n">a</span> <span class="n">server</span>
<span class="o">//</span> <span class="n">Author</span><span class="p">:</span> <span class="n">Author</span><span class="p">:</span> <span class="n">Zemian</span> <span class="n">Deng</span><span class="p">,</span> <span class="n">date</span><span class="p">:</span> <span class="mi">2012</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">15</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="o">-</span><span class="mi">05</span><span class="p">:</span><span class="mi">00</span>
<span class="nd">@GrabConfig</span><span class="p">(</span><span class="n">systemClassLoader</span><span class="o">=</span><span class="n">true</span><span class="p">)</span>
<span class="nd">@Grab</span><span class="p">(</span><span class="s1">&#39;mysql:mysql-connector-java:5.1.22&#39;</span><span class="p">)</span>
<span class="nd">@Grab</span><span class="p">(</span><span class="s1">&#39;org.slf4j:slf4j-simple:1.7.1&#39;</span><span class="p">)</span>
<span class="nd">@Grab</span><span class="p">(</span><span class="s1">&#39;org.quartz-scheduler:quartz:2.1.6&#39;</span><span class="p">)</span>
<span class="kn">import</span> <span class="nn">org.quartz.</span><span class="o">*</span>
<span class="kn">import</span> <span class="nn">org.quartz.impl.</span><span class="o">*</span>
<span class="kn">import</span> <span class="nn">org.quartz.jobs.</span><span class="o">*</span>

<span class="n">config</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">length</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="err">?</span> <span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">:</span> <span class="s2">&quot;quartz.properties&quot;</span>
<span class="n">scheduler</span> <span class="o">=</span> <span class="n">new</span> <span class="n">StdSchedulerFactory</span><span class="p">(</span><span class="n">config</span><span class="p">)</span><span class="o">.</span><span class="n">getScheduler</span><span class="p">()</span>
<span class="n">scheduler</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>

<span class="o">//</span> <span class="n">Register</span> <span class="n">shutdown</span>
<span class="n">addShutdownHook</span> <span class="p">{</span>
  <span class="n">scheduler</span><span class="o">.</span><span class="n">shutdown</span><span class="p">()</span>
<span class="p">}</span>

<span class="o">//</span> <span class="n">Quartz</span> <span class="n">has</span> <span class="n">its</span> <span class="n">own</span> <span class="n">thread</span><span class="p">,</span> <span class="n">so</span> <span class="n">now</span> <span class="n">put</span> <span class="n">this</span> <span class="n">script</span> <span class="n">thread</span> <span class="n">to</span> <span class="n">sleep</span> <span class="n">until</span>
<span class="o">//</span> <span class="n">user</span> <span class="n">hit</span> <span class="n">CTRL</span><span class="o">+</span><span class="n">C</span>
<span class="k">while</span> <span class="p">(</span><span class="err">!</span><span class="n">scheduler</span><span class="o">.</span><span class="n">isShutdown</span><span class="p">())</span> <span class="p">{</span>
 <span class="n">Thread</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">Long</span><span class="o">.</span><span class="n">MAX_VALUE</span><span class="p">)</span>
<span class="p">}</span>
<span class="err">```</span>
</code></pre></div>

<p>And now you just need a config file <code>quartz-mysql.properties</code> that looks like this:</p>
<div class="highlight"><pre><span></span><code>    # Main Quartz configuration
    org.quartz.scheduler.skipUpdateCheck = true
    org.quartz.scheduler.instanceName = DatabaseScheduler
    org.quartz.scheduler.instanceId = NON_CLUSTERED
    org.quartz.scheduler.jobFactory.class = org.quartz.simpl.SimpleJobFactory
    org.quartz.jobStore.class = org.quartz.impl.jdbcjobstore.JobStoreTX
    org.quartz.jobStore.driverDelegateClass = org.quartz.impl.jdbcjobstore.StdJDBCDelegate
    org.quartz.jobStore.dataSource = quartzDataSource
    org.quartz.jobStore.tablePrefix = QRTZ_
    org.quartz.threadPool.class = org.quartz.simpl.SimpleThreadPool
    org.quartz.threadPool.threadCount = 5

    # JobStore: JDBC jobStoreTX
    org.quartz.dataSource.quartzDataSource.driver = com.mysql.jdbc.Driver
    org.quartz.dataSource.quartzDataSource.URL = jdbc:mysql://localhost:3306/quartz2
    org.quartz.dataSource.quartzDataSource.user = quartz2
    org.quartz.dataSource.quartzDataSource.password = quartz2123
    org.quartz.dataSource.quartzDataSource.maxConnections = 8
</code></pre></div>

<p>You can run the Groovy script as usual</p>
<div class="highlight"><pre><span></span><code><span class="err">```</span><span class="w"></span>
<span class="n">bash</span><span class="o">&gt;</span><span class="w"> </span><span class="n">groovy</span><span class="w"> </span><span class="n">quartzServer</span><span class="p">.</span><span class="n">groovy</span><span class="w"> </span><span class="n">quartz</span><span class="o">-</span><span class="n">mysql</span><span class="p">.</span><span class="n">properties</span><span class="w"></span>
<span class="n">Dec</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w"> </span><span class="mi">2012</span><span class="w"> </span><span class="mi">6</span><span class="o">:</span><span class="mi">20</span><span class="o">:</span><span class="mi">26</span><span class="w"> </span><span class="n">PM</span><span class="w"> </span><span class="n">com</span><span class="p">.</span><span class="n">mchange</span><span class="p">.</span><span class="n">v2</span><span class="p">.</span><span class="n">log</span><span class="p">.</span><span class="n">MLog</span><span class="w"> </span>
<span class="nl">INFO</span><span class="p">:</span><span class="w"> </span><span class="n">MLog</span><span class="w"> </span><span class="n">clients</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">java</span><span class="w"> </span><span class="mf">1.4</span><span class="o">+</span><span class="w"> </span><span class="n">standard</span><span class="w"> </span><span class="n">logging</span><span class="p">.</span><span class="w"></span>
<span class="n">Dec</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w"> </span><span class="mi">2012</span><span class="w"> </span><span class="mi">6</span><span class="o">:</span><span class="mi">20</span><span class="o">:</span><span class="mi">27</span><span class="w"> </span><span class="n">PM</span><span class="w"> </span><span class="n">com</span><span class="p">.</span><span class="n">mchange</span><span class="p">.</span><span class="n">v2</span><span class="p">.</span><span class="n">c3p0</span><span class="p">.</span><span class="n">C3P0Registry</span><span class="w"> </span><span class="n">banner</span><span class="w"></span>
<span class="nl">INFO</span><span class="p">:</span><span class="w"> </span><span class="n">Initializing</span><span class="w"> </span><span class="n">c3p0</span><span class="mf">-0.9.1.1</span><span class="w"> </span><span class="p">[</span><span class="n">built</span><span class="w"> </span><span class="mi">15</span><span class="o">-</span><span class="n">March</span><span class="mi">-2007</span><span class="w"> </span><span class="mo">01</span><span class="o">:</span><span class="mi">32</span><span class="o">:</span><span class="mi">31</span><span class="p">;</span><span class="w"> </span><span class="n">debug</span><span class="o">?</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="w"> </span><span class="n">trace</span><span class="o">:</span><span class="mi">10</span><span class="p">]</span><span class="w"></span>
<span class="p">[</span><span class="n">main</span><span class="p">]</span><span class="w"> </span><span class="n">INFO</span><span class="w"> </span><span class="n">org</span><span class="p">.</span><span class="n">quartz</span><span class="p">.</span><span class="n">impl</span><span class="p">.</span><span class="n">StdSchedulerFactory</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">Using</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="n">implementation</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">ThreadExecutor</span><span class="w"></span>
<span class="p">[</span><span class="n">main</span><span class="p">]</span><span class="w"> </span><span class="n">INFO</span><span class="w"> </span><span class="n">org</span><span class="p">.</span><span class="n">quartz</span><span class="p">.</span><span class="n">core</span><span class="p">.</span><span class="n">SchedulerSignalerImpl</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">Initialized</span><span class="w"> </span><span class="n">Scheduler</span><span class="w"> </span><span class="n">Signaller</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">type</span><span class="o">:</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="n">org</span><span class="p">.</span><span class="n">quartz</span><span class="p">.</span><span class="n">core</span><span class="p">.</span><span class="n">SchedulerSignalerImpl</span><span class="w"></span>
<span class="p">[</span><span class="n">main</span><span class="p">]</span><span class="w"> </span><span class="n">INFO</span><span class="w"> </span><span class="n">org</span><span class="p">.</span><span class="n">quartz</span><span class="p">.</span><span class="n">core</span><span class="p">.</span><span class="n">QuartzScheduler</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">Quartz</span><span class="w"> </span><span class="n">Scheduler</span><span class="w"> </span><span class="n">v</span><span class="mf">.2.1.6</span><span class="w"> </span><span class="n">created</span><span class="p">.</span><span class="w"></span>
<span class="p">[</span><span class="n">main</span><span class="p">]</span><span class="w"> </span><span class="n">INFO</span><span class="w"> </span><span class="n">org</span><span class="p">.</span><span class="n">quartz</span><span class="p">.</span><span class="n">core</span><span class="p">.</span><span class="n">QuartzScheduler</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">JobFactory</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="n">to</span><span class="o">:</span><span class="w"> </span><span class="n">org</span><span class="p">.</span><span class="n">quartz</span><span class="p">.</span><span class="n">simpl</span><span class="p">.</span><span class="n">SimpleJobFactory</span><span class="mi">@1</span><span class="n">a40247</span><span class="w"></span>
<span class="p">[</span><span class="n">main</span><span class="p">]</span><span class="w"> </span><span class="n">INFO</span><span class="w"> </span><span class="n">org</span><span class="p">.</span><span class="n">quartz</span><span class="p">.</span><span class="n">impl</span><span class="p">.</span><span class="n">jdbcjobstore</span><span class="p">.</span><span class="n">JobStoreTX</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">Using</span><span class="w"> </span><span class="kr">thread</span><span class="w"> </span><span class="n">monitor</span><span class="o">-</span><span class="n">based</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="n">access</span><span class="w"> </span><span class="n">locking</span><span class="w"> </span><span class="p">(</span><span class="n">synchronization</span><span class="p">).</span><span class="w"></span>
<span class="p">[</span><span class="n">main</span><span class="p">]</span><span class="w"> </span><span class="n">INFO</span><span class="w"> </span><span class="n">org</span><span class="p">.</span><span class="n">quartz</span><span class="p">.</span><span class="n">impl</span><span class="p">.</span><span class="n">jdbcjobstore</span><span class="p">.</span><span class="n">JobStoreTX</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">JobStoreTX</span><span class="w"> </span><span class="n">initialized</span><span class="p">.</span><span class="w"></span>
<span class="p">[</span><span class="n">main</span><span class="p">]</span><span class="w"> </span><span class="n">INFO</span><span class="w"> </span><span class="n">org</span><span class="p">.</span><span class="n">quartz</span><span class="p">.</span><span class="n">core</span><span class="p">.</span><span class="n">QuartzScheduler</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">Scheduler</span><span class="w"> </span><span class="n">meta</span><span class="o">-</span><span class="n">data</span><span class="o">:</span><span class="w"> </span><span class="n">Quartz</span><span class="w"> </span><span class="n">Scheduler</span><span class="w"> </span><span class="p">(</span><span class="n">v2</span><span class="mf">.1.6</span><span class="p">)</span><span class="w"> </span><span class="err">&#39;</span><span class="n">DatabaseScheduler</span><span class="err">&#39;</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">instanceId</span><span class="w"> </span><span class="err">&#39;</span><span class="n">NON_CLUSTERED</span><span class="err">&#39;</span><span class="w"></span>
<span class="w">  </span><span class="n">Scheduler</span><span class="w"> </span><span class="k">class</span><span class="o">:</span><span class="w"> </span><span class="err">&#39;</span><span class="n">org</span><span class="p">.</span><span class="n">quartz</span><span class="p">.</span><span class="n">core</span><span class="p">.</span><span class="n">QuartzScheduler</span><span class="err">&#39;</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">running</span><span class="w"> </span><span class="n">locally</span><span class="p">.</span><span class="w"></span>
<span class="w">  </span><span class="n">NOT</span><span class="w"> </span><span class="n">STARTED</span><span class="p">.</span><span class="w"></span>
<span class="w">  </span><span class="n">Currently</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">standby</span><span class="w"> </span><span class="n">mode</span><span class="p">.</span><span class="w"></span>
<span class="w">  </span><span class="n">Number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">jobs</span><span class="w"> </span><span class="n">executed</span><span class="o">:</span><span class="w"> </span><span class="mi">0</span><span class="w"></span>
<span class="w">  </span><span class="n">Using</span><span class="w"> </span><span class="kr">thread</span><span class="w"> </span><span class="n">pool</span><span class="w"> </span><span class="err">&#39;</span><span class="n">org</span><span class="p">.</span><span class="n">quartz</span><span class="p">.</span><span class="n">simpl</span><span class="p">.</span><span class="n">SimpleThreadPool</span><span class="err">&#39;</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="n">threads</span><span class="p">.</span><span class="w"></span>
<span class="w">  </span><span class="n">Using</span><span class="w"> </span><span class="n">job</span><span class="o">-</span><span class="n">store</span><span class="w"> </span><span class="err">&#39;</span><span class="n">org</span><span class="p">.</span><span class="n">quartz</span><span class="p">.</span><span class="n">impl</span><span class="p">.</span><span class="n">jdbcjobstore</span><span class="p">.</span><span class="n">JobStoreTX</span><span class="err">&#39;</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">supports</span><span class="w"> </span><span class="n">persistence</span><span class="p">.</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">clustered</span><span class="p">.</span><span class="w"></span>

<span class="p">[</span><span class="n">main</span><span class="p">]</span><span class="w"> </span><span class="n">INFO</span><span class="w"> </span><span class="n">org</span><span class="p">.</span><span class="n">quartz</span><span class="p">.</span><span class="n">impl</span><span class="p">.</span><span class="n">StdSchedulerFactory</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">Quartz</span><span class="w"> </span><span class="n">scheduler</span><span class="w"> </span><span class="err">&#39;</span><span class="n">DatabaseScheduler</span><span class="err">&#39;</span><span class="w"> </span><span class="n">initialized</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="err">&#39;</span><span class="n">quartz</span><span class="o">-</span><span class="n">mysql</span><span class="p">.</span><span class="n">properties</span><span class="err">&#39;</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="n">resource</span><span class="w"> </span><span class="n">path</span><span class="p">.</span><span class="w"></span>
<span class="p">[</span><span class="n">main</span><span class="p">]</span><span class="w"> </span><span class="n">INFO</span><span class="w"> </span><span class="n">org</span><span class="p">.</span><span class="n">quartz</span><span class="p">.</span><span class="n">impl</span><span class="p">.</span><span class="n">StdSchedulerFactory</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">Quartz</span><span class="w"> </span><span class="n">scheduler</span><span class="w"> </span><span class="n">version</span><span class="o">:</span><span class="w"> </span><span class="mf">2.1.6</span><span class="w"></span>
<span class="n">Dec</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w"> </span><span class="mi">2012</span><span class="w"> </span><span class="mi">6</span><span class="o">:</span><span class="mi">20</span><span class="o">:</span><span class="mi">27</span><span class="w"> </span><span class="n">PM</span><span class="w"> </span><span class="n">com</span><span class="p">.</span><span class="n">mchange</span><span class="p">.</span><span class="n">v2</span><span class="p">.</span><span class="n">c3p0</span><span class="p">.</span><span class="n">impl</span><span class="p">.</span><span class="n">AbstractPoolBackedDataSource</span><span class="w"> </span><span class="n">getPoolManager</span><span class="w"></span>
<span class="nl">INFO</span><span class="p">:</span><span class="w"> </span><span class="n">Initializing</span><span class="w"> </span><span class="n">c3p0</span><span class="w"> </span><span class="n">pool</span><span class="p">...</span><span class="w"> </span><span class="n">com</span><span class="p">.</span><span class="n">mchange</span><span class="p">.</span><span class="n">v2</span><span class="p">.</span><span class="n">c3p0</span><span class="p">.</span><span class="n">ComboPooledDataSource</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="n">acquireIncrement</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="n">acquireRetryAttempts</span><span class="w"></span>
<span class="o">-&gt;</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w"> </span><span class="n">acquireRetryDelay</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w"> </span><span class="n">autoCommitOnClose</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nb">false</span><span class="p">,</span><span class="w"> </span><span class="n">automaticTestTable</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">null</span><span class="p">,</span><span class="w"> </span><span class="n">breakAfterAcquireFailure</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nb">false</span><span class="p">,</span><span class="w"> </span><span class="n">checkoutTimeout</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">connectionCustomizerClassName</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">null</span><span class="p">,</span><span class="w"> </span><span class="n">connectionTesterClassName</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">com</span><span class="p">.</span><span class="n">mchange</span><span class="p">.</span><span class="n">v2</span><span class="p">.</span><span class="n">c3p0</span><span class="p">.</span><span class="n">impl</span><span class="p">.</span><span class="n">DefaultConnectionTester</span><span class="p">,</span><span class="w"> </span><span class="n">dataSourceName</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="mi">1</span><span class="n">hge16k8r18mveoq1iqtotg</span><span class="o">|</span><span class="mi">1486306</span><span class="p">,</span><span class="w"> </span><span class="n">debugUnreturnedConnectionStackTraces</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">fals</span><span class="w"></span>
<span class="n">e</span><span class="p">,</span><span class="w"> </span><span class="n">description</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">null</span><span class="p">,</span><span class="w"> </span><span class="n">driverClass</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">com</span><span class="p">.</span><span class="n">mysql</span><span class="p">.</span><span class="n">jdbc</span><span class="p">.</span><span class="n">Driver</span><span class="p">,</span><span class="w"> </span><span class="n">factoryClassLocation</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">null</span><span class="p">,</span><span class="w"> </span><span class="n">forceIgnoreUnresolvedTransactions</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nb">false</span><span class="p">,</span><span class="w"> </span><span class="n">identityToken</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="mi">1</span><span class="n">hge16k8r18mveoq1iqtotg</span><span class="o">|</span><span class="mi">1486306</span><span class="p">,</span><span class="w"> </span><span class="n">idleConnectionTestPeriod</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">initialPoolSize</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="n">jdbcUrl</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">jdbc</span><span class="o">:</span><span class="n">mysql</span><span class="o">:</span><span class="c1">//localhost:3306/quartz2, lastAcquisitionFailureDefaultUser -&gt; null, maxAdministrativeTaskTime -&gt; 0</span>
<span class="p">,</span><span class="w"> </span><span class="n">maxConnectionAge</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">maxIdleTime</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">maxIdleTimeExcessConnections</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">maxPoolSize</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="n">maxStatements</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">maxStatementsPerConnection</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="mi">120</span><span class="p">,</span><span class="w"> </span><span class="n">minPoolSize</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">numHelperThreads</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="n">numThreadsAwaitingCheckoutDefaultUser</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">pref</span><span class="w"></span>
<span class="n">erredTestQuery</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">null</span><span class="p">,</span><span class="w"> </span><span class="n">properties</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span><span class="n">user</span><span class="o">=******</span><span class="p">,</span><span class="w"> </span><span class="n">password</span><span class="o">=******</span><span class="p">},</span><span class="w"> </span><span class="n">propertyCycle</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">testConnectionOnCheckin</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nb">false</span><span class="p">,</span><span class="w"> </span><span class="n">testConnectionOnCheckout</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nb">false</span><span class="p">,</span><span class="w"> </span><span class="n">unreturnedConnectionTimeout</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">usesTraditionalReflectiveProxies</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nb">false</span><span class="w"> </span><span class="p">]</span><span class="w"></span>
<span class="p">[</span><span class="n">main</span><span class="p">]</span><span class="w"> </span><span class="n">INFO</span><span class="w"> </span><span class="n">org</span><span class="p">.</span><span class="n">quartz</span><span class="p">.</span><span class="n">impl</span><span class="p">.</span><span class="n">jdbcjobstore</span><span class="p">.</span><span class="n">JobStoreTX</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">Freed</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="n">triggers</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="err">&#39;</span><span class="n">acquired</span><span class="err">&#39;</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="err">&#39;</span><span class="n">blocked</span><span class="err">&#39;</span><span class="w"> </span><span class="n">state</span><span class="p">.[</span><span class="n">main</span><span class="p">]</span><span class="w"> </span><span class="n">INFO</span><span class="w"> </span><span class="n">org</span><span class="p">.</span><span class="n">quartz</span><span class="p">.</span><span class="n">impl</span><span class="p">.</span><span class="n">jdbcjobstore</span><span class="p">.</span><span class="n">JobStoreTX</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">Recovering</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="n">jobs</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">were</span><span class="w"> </span><span class="k">in</span><span class="o">-</span><span class="n">progress</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">last</span><span class="w"> </span><span class="n">shut</span><span class="o">-</span><span class="n">down</span><span class="p">.</span><span class="w"></span>
<span class="p">[</span><span class="n">main</span><span class="p">]</span><span class="w"> </span><span class="n">INFO</span><span class="w"> </span><span class="n">org</span><span class="p">.</span><span class="n">quartz</span><span class="p">.</span><span class="n">impl</span><span class="p">.</span><span class="n">jdbcjobstore</span><span class="p">.</span><span class="n">JobStoreTX</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">Recovery</span><span class="w"> </span><span class="n">complete</span><span class="p">.</span><span class="w"></span>
<span class="p">[</span><span class="n">main</span><span class="p">]</span><span class="w"> </span><span class="n">INFO</span><span class="w"> </span><span class="n">org</span><span class="p">.</span><span class="n">quartz</span><span class="p">.</span><span class="n">impl</span><span class="p">.</span><span class="n">jdbcjobstore</span><span class="p">.</span><span class="n">JobStoreTX</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">Removed</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="err">&#39;</span><span class="n">complete</span><span class="err">&#39;</span><span class="w"> </span><span class="n">triggers</span><span class="p">.</span><span class="w"></span>
<span class="p">[</span><span class="n">main</span><span class="p">]</span><span class="w"> </span><span class="n">INFO</span><span class="w"> </span><span class="n">org</span><span class="p">.</span><span class="n">quartz</span><span class="p">.</span><span class="n">impl</span><span class="p">.</span><span class="n">jdbcjobstore</span><span class="p">.</span><span class="n">JobStoreTX</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">Removed</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="n">stale</span><span class="w"> </span><span class="n">fired</span><span class="w"> </span><span class="n">job</span><span class="w"> </span><span class="n">entries</span><span class="p">.</span><span class="w"></span>
<span class="p">[</span><span class="n">main</span><span class="p">]</span><span class="w"> </span><span class="n">INFO</span><span class="w"> </span><span class="n">org</span><span class="p">.</span><span class="n">quartz</span><span class="p">.</span><span class="n">core</span><span class="p">.</span><span class="n">QuartzScheduler</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">Scheduler</span><span class="w"> </span><span class="n">DatabaseScheduler_$_NON_CLUSTERED</span><span class="w"> </span><span class="n">started</span><span class="p">.</span><span class="w"></span>


<span class="p">...</span><span class="w"> </span><span class="n">CTRL</span><span class="o">+</span><span class="n">C</span><span class="w"></span>
<span class="p">[</span><span class="n">Thread</span><span class="mi">-6</span><span class="p">]</span><span class="w"> </span><span class="n">INFO</span><span class="w"> </span><span class="n">org</span><span class="p">.</span><span class="n">quartz</span><span class="p">.</span><span class="n">core</span><span class="p">.</span><span class="n">QuartzScheduler</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">Scheduler</span><span class="w"> </span><span class="n">DatabaseScheduler_$_NON_CLUSTERED</span><span class="w"> </span><span class="n">shutting</span><span class="w"> </span><span class="n">down</span><span class="p">.</span><span class="w"></span>
<span class="p">[</span><span class="n">Thread</span><span class="mi">-6</span><span class="p">]</span><span class="w"> </span><span class="n">INFO</span><span class="w"> </span><span class="n">org</span><span class="p">.</span><span class="n">quartz</span><span class="p">.</span><span class="n">core</span><span class="p">.</span><span class="n">QuartzScheduler</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">Scheduler</span><span class="w"> </span><span class="n">DatabaseScheduler_$_NON_CLUSTERED</span><span class="w"> </span><span class="n">paused</span><span class="p">.</span><span class="w"></span>
<span class="p">[</span><span class="n">Thread</span><span class="mi">-6</span><span class="p">]</span><span class="w"> </span><span class="n">INFO</span><span class="w"> </span><span class="n">org</span><span class="p">.</span><span class="n">quartz</span><span class="p">.</span><span class="n">core</span><span class="p">.</span><span class="n">QuartzScheduler</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">Scheduler</span><span class="w"> </span><span class="n">DatabaseScheduler_$_NON_CLUSTERED</span><span class="w"> </span><span class="n">shutdown</span><span class="w"> </span><span class="n">complete</span><span class="p">.</span><span class="w"></span>
<span class="err">```</span><span class="w"></span>
</code></pre></div>

<p>That's a full run of above setup. Go ahead and play with different config. Read <a href="http://quartz-scheduler.org/documentation/quartz-2.1.x/configuration/">http://quartz-scheduler.org/documentation/quartz-2.1.x/configuration</a> for more details.</p>
<hr>
<p>Here I will post couple more easy config that will get you started in a commonly used config set.</p>
<p>A MySQL cluster enabled configuration. With this, you can start one or more shell terminal and run different instance of <code>quartzServer.groovy</code> with the same config. All the quartz scheduler instances should cluster themselve and distribute your jobs evenly.</p>
<div class="highlight"><pre><span></span><code>```
# Main Quartz configuration
org.quartz.scheduler.skipUpdateCheck = true
org.quartz.scheduler.instanceName = DatabaseClusteredScheduler
org.quartz.scheduler.instanceId = AUTO
org.quartz.scheduler.jobFactory.class = org.quartz.simpl.SimpleJobFactory
org.quartz.jobStore.class = org.quartz.impl.jdbcjobstore.JobStoreTX
org.quartz.jobStore.driverDelegateClass = org.quartz.impl.jdbcjobstore.StdJDBCDelegate
org.quartz.jobStore.dataSource = quartzDataSource
org.quartz.jobStore.tablePrefix = QRTZ_
org.quartz.jobStore.isClustered = true
org.quartz.threadPool.class = org.quartz.simpl.SimpleThreadPool
org.quartz.threadPool.threadCount = 5

# JobStore: JDBC jobStoreTX
org.quartz.dataSource.quartzDataSource.driver = com.mysql.jdbc.Driver
org.quartz.dataSource.quartzDataSource.URL = jdbc:mysql://localhost:3306/quartz2
org.quartz.dataSource.quartzDataSource.user = quartz2
org.quartz.dataSource.quartzDataSource.password = quartz2123
org.quartz.dataSource.quartzDataSource.maxConnections = 8
```
</code></pre></div>

<p>Here is another config set for a simple in-memory scheduler.</p>
<div class="highlight"><pre><span></span><code>```
# Main Quartz configuration
org.quartz.scheduler.skipUpdateCheck = true
org.quartz.scheduler.instanceName = InMemoryScheduler
org.quartz.scheduler.jobFactory.class = org.quartz.simpl.SimpleJobFactory
org.quartz.threadPool.class = org.quartz.simpl.SimpleThreadPool
org.quartz.threadPool.threadCount = 5
```
</code></pre></div>

<p>Now, if you need more fancy UI management of Quartz, give <a href="http://code.google.com/p/myschedule">MySchedule</a> a try.</p>
<p>Happy scheduling!</p>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="social">
                        <h2>social</h2>
                        <ul>
                            <li><a href="https://zemian.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate">atom feed</a></li>

                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="https://getpelican.com/">Pelican</a>, which takes great advantage of <a href="https://www.python.org/">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="https://www.smashingmagazine.com/2009/08/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>