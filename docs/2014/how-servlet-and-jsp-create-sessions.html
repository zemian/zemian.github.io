<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="generator" content="Pelican" />
        <title>How Servlet and JSP create sessions</title>
        <link rel="stylesheet" href="https://zemian.github.io/theme/css/main.css" />
        <link href="https://zemian.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="ZBlog Atom Feed" />
        <meta name="description" content="In Servlet, you may get the Session object by "httpServletRequest.getSession(true)". The "true" flag will create the session if it doesn't already..." />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="https://zemian.github.io/">ZBlog</a></h1>
                <nav><ul>
                    <li><a href="https://zemian.github.io/pages/about-the-author.html">About The Author</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="https://zemian.github.io/2014/how-servlet-and-jsp-create-sessions.html" rel="bookmark"
           title="Permalink to How Servlet and JSP create sessions">How Servlet and JSP create sessions</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2014-10-26T00:00:00-05:00">
                Published: Sun 26 October 2014
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="https://zemian.github.io/author/zemian-deng.html">Zemian Deng</a>
        </address>
<p>In <a href="https://zemian.github.io/category/blog.html">Blog</a>.</p>
<p>tags: <a href="https://zemian.github.io/tag/servlet.html">servlet</a> </p>
</footer><!-- /.post-info -->      <p>In Servlet, you may get the Session object by "httpServletRequest.getSession(true)". The "true" flag will create the session if it doesn't already exist, else it gets the existing session.</p>
<p>Now if you want to check whether you have the session exists or not (without have to create one if doesn't exist), you need to pass in "false" and then check for "null".</p>
<div class="highlight"><pre><span></span><code><span class="nv">Session</span> <span class="nv">session</span> <span class="o">=</span> <span class="nv">httpServletRequest</span>.<span class="nv">getSession</span><span class="ss">(</span><span class="nv">false</span><span class="ss">)</span><span class="c1">;</span>
<span class="k">if</span> <span class="ss">(</span><span class="nv">session</span> <span class="o">==</span> <span class="nv">null</span><span class="ss">)</span> {
  <span class="o">//</span> <span class="k">do</span> <span class="nv">something</span> <span class="nv">without</span> <span class="nv">creating</span> <span class="nv">session</span> <span class="nv">object</span>.
}
</code></pre></div>

<p>Now comes the trick party. If you run above code and then dispatch the request to render a JSP page, you might quickly come to find out that the container will create a new Session object still! It turns out that by default JSP will create new Session object if you do not have one! To disable this, you need to set this explicitly on top of the JSP page:</p>
<div class="highlight"><pre><span></span><code><span class="x"> </span><span class="cp">&lt;%</span> <span class="n">page</span> <span class="n">session</span><span class="o">=</span><span class="s2">&quot;false&quot;</span> <span class="cp">%&gt;</span><span class="x"></span>
</code></pre></div>

<p>Only with this you will able to actually prevent creation of unnecessary Session object if you were to use JSP for output! Something to watch out for when debugging session based application.</p>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="social">
                        <h2>social</h2>
                        <ul>
                            <li><a href="https://zemian.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate">atom feed</a></li>

                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="https://getpelican.com/">Pelican</a>, which takes great advantage of <a href="https://www.python.org/">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="https://www.smashingmagazine.com/2009/08/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>