<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="generator" content="Pelican" />
        <title>How to setup hg repository on a remote server</title>
        <link rel="stylesheet" href="https://zemian.github.io/theme/css/main.css" />
        <link href="https://zemian.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="ZBlog Atom Feed" />
        <meta name="description" content="I love using mercurial source control! It's easy to use and it works as I expected everytime I need to do something with my source repository...." />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="https://zemian.github.io/">ZBlog</a></h1>
                <nav><ul>
                    <li><a href="https://zemian.github.io/pages/about-the-author.html">About The Author</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="https://zemian.github.io/2016/how-to-setup-hg-repository-on-a-remote-server.html" rel="bookmark"
           title="Permalink to How to setup hg repository on a remote server">How to setup hg repository on a remote server</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2016-06-14T00:00:00-05:00">
                Published: Tue 14 June 2016
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="https://zemian.github.io/author/zemian-deng.html">Zemian Deng</a>
        </address>
<p>In <a href="https://zemian.github.io/category/blog.html">Blog</a>.</p>
<p>tags: <a href="https://zemian.github.io/tag/hg.html">hg</a> </p>
</footer><!-- /.post-info -->      <p>I love using mercurial source control! It's easy to use and it works as I expected everytime I need to do something with my source repository. Here is how you can quickly create a remote repository to push your existing project into it. (use this as backup of your project or share among your team etc)</p>
<ol>
<li>SSH into your remote server and create an empty repository.</li>
</ol>
<div class="highlight"><pre><span></span><code>ssh remote_hostname
bash&gt; cd $HOME 
bash&gt; mkdir -p hg-repos/myproject
bash&gt; cd hg-repos/myproject
bash&gt; hg init
</code></pre></div>

<ol>
<li>Back on your local machine and in your existing hg project, edit the .hg/hgrc file with the following:</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="k">[paths]</span><span class="w"></span>
<span class="na">default</span><span class="o">=</span><span class="s">ssh://remote_hostname/hg-repos/myproject</span><span class="w"></span>
<span class="k">[ui]</span><span class="w"></span>
<span class="na">remotecmd</span><span class="o">=</span><span class="s">/usr/local/bin/hg</span><span class="w"></span>
</code></pre></div>

<p>That's it! You don't even need hg server running in remote host to make this work! Now you may perofrm "hg push" command inside your local project to sync up to remote host </p>
<p>NOTE 1: This setup rely on your SSH into remote host. If you want to avoid user password promt everytime you perform "hg push", then setup Key-Based SSH login.</p>
<p>NOTE 2: You only need "remotecmd" part if your remote_hostname does not have a standard hg installed. Then you can specified your custom location here.</p>
<p>NOTE 3: If you want to use abolute path for "default" path instead, then you can use double slash after the "remote_hostname". Else the single slash is relative to your $HOME directory.</p>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="social">
                        <h2>social</h2>
                        <ul>
                            <li><a href="https://zemian.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate">atom feed</a></li>

                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="https://getpelican.com/">Pelican</a>, which takes great advantage of <a href="https://www.python.org/">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="https://www.smashingmagazine.com/2009/08/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>