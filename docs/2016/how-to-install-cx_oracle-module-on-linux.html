<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="generator" content="Pelican" />
        <title>How to install cx_Oracle module on Linux</title>
        <link rel="stylesheet" href="https://zemian.github.io/theme/css/main.css" />
        <link href="https://zemian.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="ZBlog Atom Feed" />
        <meta name="description" content="Here are my notes on installing cx_Oracle python module to access Oracle Database 12c. First, you need to download these two packages from Oracle..." />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="https://zemian.github.io/">ZBlog</a></h1>
                <nav><ul>
                    <li><a href="https://zemian.github.io/pages/about-the-author.html">About The Author</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="https://zemian.github.io/2016/how-to-install-cx_oracle-module-on-linux.html" rel="bookmark"
           title="Permalink to How to install cx_Oracle module on Linux">How to install cx_Oracle module on Linux</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2016-07-23T00:00:00-05:00">
                Published: Sat 23 July 2016
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="https://zemian.github.io/author/zemian-deng.html">Zemian Deng</a>
        </address>
<p>In <a href="https://zemian.github.io/category/blog.html">Blog</a>.</p>
<p>tags: <a href="https://zemian.github.io/tag/python.html">python</a> <a href="https://zemian.github.io/tag/oracle.html">oracle</a> </p>
</footer><!-- /.post-info -->      <p>Here are my notes on installing <a href="http://cx-oracle.sourceforge.net/"><code>cx_Oracle</code> python
module</a> to access Oracle Database
12c. First, you need to download these two packages from <a href="http://www.oracle.com/technetwork/database/features/instant-client">Oracle Instant
Client</a>
site.</p>
<ul>
<li>
<p>Instant Client Package - Basic</p>
</li>
<li>
<p>Instant Client Package - SDK</p>
</li>
</ul>
<p>I’ve tried their <code>.rpm</code> packages and it did not work for me on Linux, so
I would suggest you use the <code>.zip</code> packages instead.</p>
<p>Once you downloaded these two, unzip them into a single directory (eg:
<code>$HOME/apps/instantclient</code>). You then need to follow these instructions
to install the module itself.</p>
<div class="highlight"><pre><span></span><code><span class="n">cd</span><span class="w"> </span><span class="o">$</span><span class="n">HOME</span><span class="o">/</span><span class="n">apps</span><span class="o">/</span><span class="n">instantclient</span><span class="w"></span>
<span class="n">ln</span><span class="w"> </span><span class="o">-</span><span class="n">s</span><span class="w"> </span><span class="n">libclntsh</span><span class="o">.</span><span class="n">so</span><span class="o">.</span><span class="mf">12.1</span><span class="w"> </span><span class="n">libclntsh</span><span class="o">.</span><span class="n">so</span><span class="w"></span>
<span class="k">export</span><span class="w"> </span><span class="n">ORACLE_HOME</span><span class="o">=$</span><span class="n">HOME</span><span class="o">/</span><span class="n">apps</span><span class="o">/</span><span class="n">instantclient</span><span class="w"></span>
<span class="k">export</span><span class="w"> </span><span class="n">LD_LIBRARY_PATH</span><span class="o">=$</span><span class="n">ORACLE_HOME</span><span class="p">:</span><span class="o">$</span><span class="n">LD_LIBRARY_PATH</span><span class="w"></span>

<span class="n">pip</span><span class="w"> </span><span class="n">install</span><span class="w"> </span><span class="n">cx_Oracle</span><span class="w"></span>
</code></pre></div>

<p>Here are some quick python test code to verify <code>cx_Oracle</code> is working.</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">cx_Oracle</span> <span class="k">as</span> <span class="nn">db</span>
<span class="n">dsn</span><span class="o">=</span><span class="s1">&#39;(DESCRIPTION=(ADDRESS=(HOST=myhost)(PORT=1521)(PROTOCOL=TCP))(CONNECT_DATA=(SERVER=DEDICATED)(SID=orcl)))&#39;</span>
<span class="n">conn</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s1">&#39;zemian&#39;</span><span class="p">,</span> <span class="s1">&#39;Welcome1&#39;</span><span class="p">,</span> <span class="n">dsn</span><span class="p">)</span>
<span class="n">cur</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
<span class="n">cur</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;SELECT 1+1&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">cur</span><span class="o">.</span><span class="n">fetchone</span><span class="p">()[</span><span class="mi">0</span><span class="p">])</span>
<span class="n">cur</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<span class="n">conn</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</code></pre></div>

<p>Using the <code>dsn</code> form above can connect directly to database without the
need to setup further entry in Oracle’s <code>tnsnames.ora</code> file.</p>
<h1>Optionally installing sqlplus client</h1>
<p>The <code>sqlplus</code> is a classic client you may use to connect to the Oracle
database. You may install this to perform adhoc query and verify your
data. Download the following from the same download site above.</p>
<ul>
<li>Instant Client Package - <code>SQL\*Plus</code></li>
</ul>
<p>Unzip and then add the following to your <code>PATH</code></p>
<div class="highlight"><pre><span></span><code><span class="k">export</span><span class="w"> </span><span class="o">$</span><span class="n">ORACLE_HOME</span><span class="o">/</span><span class="n">bin</span><span class="p">:</span><span class="o">$</span><span class="n">PATH</span><span class="w"></span>

<span class="n">sqlplus</span><span class="w"> </span><span class="n">mydbuser</span><span class="err">@</span><span class="p">(</span><span class="n">DESCRIPTION</span><span class="o">=</span><span class="p">(</span><span class="n">ADDRESS</span><span class="o">=</span><span class="p">(</span><span class="n">HOST</span><span class="o">=</span><span class="n">myhost</span><span class="p">)(</span><span class="n">PORT</span><span class="o">=</span><span class="mi">1521</span><span class="p">)(</span><span class="n">PROTOCOL</span><span class="o">=</span><span class="n">TCP</span><span class="p">))(</span><span class="n">CONNECT_DATA</span><span class="o">=</span><span class="p">(</span><span class="n">SERVER</span><span class="o">=</span><span class="n">DEDICATED</span><span class="p">)(</span><span class="n">SID</span><span class="o">=</span><span class="n">orcl</span><span class="p">)))</span><span class="w"></span>
</code></pre></div>

<p>For more information, see <a href="https://docs.oracle.com/database/121/SQPUG/toc.htm"><code>sqlplus</code>
doc</a></p>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="social">
                        <h2>social</h2>
                        <ul>
                            <li><a href="https://zemian.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate">atom feed</a></li>

                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="https://getpelican.com/">Pelican</a>, which takes great advantage of <a href="https://www.python.org/">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="https://www.smashingmagazine.com/2009/08/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>